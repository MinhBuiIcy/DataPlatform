# Streaming Service Configuration
# Public config - safe to commit to git
#
# Choose streaming backend via CLOUD_PROVIDER in .env:
#   - CLOUD_PROVIDER=opensource → Use Kafka
#   - CLOUD_PROVIDER=aws/localstack → Use Kinesis

# ============================================
# KAFKA (Open-source, Production-ready)
# ============================================
kafka:
  # Connection
  # Docker network hostname (services run inside Docker)
  # Use 'localhost:9094' only when running services on host machine
  bootstrap_servers: kafka:9092

  # Topics (by phase)
  topics:
    # Phase 1: Real-time market data
    market_trades: market-trades
    order_books: order-books

    # Phase 2: Processed candles
    candle_events: candle-events

  # Retention & Performance
  retention_hours: 24
  num_partitions: 3
  replication_factor: 1  # Single node for local dev

  # Producer settings
  compression_type: gzip
  acks: all  # Wait for all replicas
  max_request_size_mb: 1

# ============================================
# KINESIS (AWS - for cloud deployment)
# ============================================
kinesis:
  # Stream names (by phase)
  streams:
    # Phase 1: Real-time market data
    market_trades: market-trades-local
    order_books: order-books-local

    # Phase 2: Processed candles
    candle_events: candle-events-local

  # Retention
  retention_hours: 24

  # Sharding (Phase 6 - production)
  shard_count: 3
