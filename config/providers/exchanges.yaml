# Exchange Configuration
# Single source of truth for all exchange settings and symbol mappings
#
# Each symbol entry includes:
#   - native: Exchange-specific symbol format
#   - base: Normalized base asset (for multi-exchange comparison)
#   - quote: Quote currency

# WebSocket processing settings (shared across all exchanges)
websocket:
  queue_max_size: 10000          # Max buffered messages before dropping
  consumer_workers: 5             # Parallel workers processing callbacks
  ping_interval: 60              # Client ping interval (seconds), null to disable
  ping_timeout: 120              # Max wait for pong before reconnect (seconds)
  max_message_size_mb: 10        # Max WebSocket frame size in MB
  orderbook_sample_interval_ms: 1000  # Pre-filter: keep 1 orderbook per symbol per interval

exchanges:
  binance:
    enabled: true
    name: "Binance"
    websocket_url: "wss://stream.binance.com:9443/ws"

    symbols:
      # Top 5 by market cap
      - native: BTCUSDT
        base: BTC
        quote: USDT
      - native: ETHUSDT
        base: ETH
        quote: USDT
      - native: BNBUSDT
        base: BNB
        quote: USDT
      - native: SOLUSDT
        base: SOL
        quote: USDT
      - native: XRPUSDT
        base: XRP
        quote: USDT

      # DeFi tokens
      - native: ADAUSDT
        base: ADA
        quote: USDT
      - native: DOGEUSDT
        base: DOGE
        quote: USDT
      - native: DOTUSDT
        base: DOT
        quote: USDT
      - native: POLUSDT
        base: POL
        quote: USDT
      - native: AVAXUSDT
        base: AVAX
        quote: USDT

      # Layer 2 & Others
      - native: LINKUSDT
        base: LINK
        quote: USDT
      - native: UNIUSDT
        base: UNI
        quote: USDT
      - native: ATOMUSDT
        base: ATOM
        quote: USDT
      - native: LTCUSDT
        base: LTC
        quote: USDT
      - native: NEARUSDT
        base: NEAR
        quote: USDT
      - native: APTUSDT
        base: APT
        quote: USDT
      - native: ARBUSDT
        base: ARB
        quote: USDT
      - native: OPUSDT
        base: OP
        quote: USDT
      - native: INJUSDT
        base: INJ
        quote: USDT
      - native: SUIUSDT
        base: SUI
        quote: USDT

    features:
      trades: true
      orderbook: true
      orderbook_depth: 10
      orderbook_update_ms: 1000

    rate_limits:
      connections_per_ip: 300
      messages_per_second: 10
      requests_per_minute: 1200

  coinbase:
    enabled: true
    name: "Coinbase"
    websocket_url: "wss://ws-feed.exchange.coinbase.com"

    symbols:
      - native: BTC-USD
        base: BTC
        quote: USD
      - native: ETH-USD
        base: ETH
        quote: USD
      - native: SOL-USD
        base: SOL
        quote: USD
      - native: XRP-USD
        base: XRP
        quote: USD
      - native: ADA-USD
        base: ADA
        quote: USD
      - native: DOGE-USD
        base: DOGE
        quote: USD
      - native: DOT-USD
        base: DOT
        quote: USD
      - native: POL-USD
        base: POL
        quote: USD
      # MATIC-USD removed - migrated to POL-USD in Sept 2024
      - native: AVAX-USD
        base: AVAX
        quote: USD
      - native: LINK-USD
        base: LINK
        quote: USD
      - native: UNI-USD
        base: UNI
        quote: USD
      - native: ATOM-USD
        base: ATOM
        quote: USD
      - native: LTC-USD
        base: LTC
        quote: USD
      - native: NEAR-USD
        base: NEAR
        quote: USD
      - native: APT-USD
        base: APT
        quote: USD
      - native: ARB-USD
        base: ARB
        quote: USD
      - native: OP-USD
        base: OP
        quote: USD
      - native: INJ-USD
        base: INJ
        quote: USD
      - native: SUI-USD
        base: SUI
        quote: USD
      - native: TIA-USD
        base: TIA
        quote: USD

    features:
      trades: true
      orderbook: true
      orderbook_depth: 10

    rate_limits:
      connections_per_ip: 10
      messages_per_second: 100

  kraken:
    enabled: true
    name: "Kraken"
    websocket_url: "wss://ws.kraken.com/"

    symbols:
      # Note: ccxt normalizes Kraken symbols (XBT→BTC, XDG→DOGE)
      - native: BTC/USD  # Kraken BTC (ccxt normalized)
        base: BTC
        quote: USD
      - native: ETH/USD
        base: ETH
        quote: USD
      - native: SOL/USD
        base: SOL
        quote: USD
      - native: XRP/USD
        base: XRP
        quote: USD
      - native: ADA/USD
        base: ADA
        quote: USD
      - native: DOGE/USD  # Kraken DOGE (ccxt normalized)
        base: DOGE
        quote: USD
      - native: DOT/USD
        base: DOT
        quote: USD
      # MATIC/USD removed - not available
      - native: AVAX/USD
        base: AVAX
        quote: USD
      - native: LINK/USD
        base: LINK
        quote: USD
      - native: UNI/USD
        base: UNI
        quote: USD
      - native: ATOM/USD
        base: ATOM
        quote: USD
      - native: LTC/USD
        base: LTC
        quote: USD
      - native: NEAR/USD
        base: NEAR
        quote: USD
      - native: APT/USD
        base: APT
        quote: USD
      - native: ARB/USD
        base: ARB
        quote: USD
      - native: OP/USD
        base: OP
        quote: USD
      - native: INJ/USD
        base: INJ
        quote: USD
      - native: ALGO/USD
        base: ALGO
        quote: USD
      - native: FIL/USD
        base: FIL
        quote: USD

    features:
      trades: true
      orderbook: true
      orderbook_depth: 10

    rate_limits:
      connections_per_ip: 50
      messages_per_second: 50

  # Example: Add new exchange (disabled by default)
  # bybit:
  #   enabled: false
  #   name: "Bybit"
  #   websocket_url: "wss://stream.bybit.com/v5/public/spot"
  #   symbols:
  #     - native: BTCUSDT
  #       base: BTC
  #       quote: USDT
  #     - native: ETHUSDT
  #       base: ETH
  #       quote: USDT
  #   features:
  #     trades: true
  #     orderbook: true
